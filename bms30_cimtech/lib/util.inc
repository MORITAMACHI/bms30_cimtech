<?php
//====================================================================================================
//  システム名：
//      書籍管理システム(Web版Ver.1.5)
//  サブシステム名：
//      共通機能
//  モジュール名：
//      util.inc
//  説明：
//      共通関数群
//  バージョン情報：
//      作成日）2010/03/29
//      作成者）h.yamamoto
//      変更日）
//      変更者）
//  備考
//====================================================================================================

	//====================================================================================================
	//  概要：
	//    createSqlString
	//  機能説明：
	//    指定された文字列の両端にシングルクォートを追加。
	//    文字列中にシングルクォートが有る場合、シングルクォート2つに置換。
	//  引数：
	//    $str：対象文字列
	//  戻り値
	//    変更後文字列
	//  備考：
	//    作成日）2010/03/29
	//    作成者）h.yamamoto
	//    説  明）
	//    更新日）
	//    更新者）
	//    変  更）
	//====================================================================================================
	//指定された文字列の両端にシングルクォートを追加。
	//文字列中にシングルクォートが有る場合、シングルクォート2つに置換。
	function createSqlString($str) {
		$str = str_replace("'" , "''" , $str);
		return "'" . $str . "'";
	}

	//====================================================================================================
	//  概要：
	//    createNullHtmlString
	//  機能説明：
	//    $valueがNullの時、$valueに'null'をセット
	//  引数：
	//    $value ：指定の値
	//  戻り値
	//    文字列
	//  備考：
	//    作成日）2010/03/29
	//    作成者）h.yamamoto
	//    説  明）
	//    更新日）
	//    更新者）
	//    変  更）
	//====================================================================================================
	function createNullHtmlString($value){
		if(strlen($value) ==0){
			return " ";
		}
		return $value;
	}
	//====================================================================================================
	//  概要：
	//    createMoneyFormat
	//  機能説明：
	//    数値を「\」記号付3桁「,」区切りの金額フォーマットに変換する
	//  引数：
	//    $value ：指定の値
	//  戻り値
	//    文字列
	//  備考：
	//    作成日）2010/03/29
	//    作成者）h.yamamoto
	//    説  明）
	//    更新日）
	//    更新者）
	//    変  更）
	//====================================================================================================
	function createMoneyFormat($value){

		$value = "\\".number_format($value);
		return $value;
	}

	//====================================================================================================
	//  概要：
	//    callErrorPage
	//  機能説明：
	//    エラー頁へ遷移する関数
	//  引数：
	//    $errMsg ：エラーメッセージ
	//  戻り値
	//    無し
	//  備考：
	//    作成日）2010/03/29
	//    作成者）h.yamamoto
	//    説  明）
	//    更新日）
	//    更新者）
	//    変  更）
	//====================================================================================================
	function callErrorPage($errMsg){
		//エラー画面へ遷移する
		header("location: ../error/error.php?ERR=".urlencode($errMsg));
	}

